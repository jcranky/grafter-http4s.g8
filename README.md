
## Grafter with http4s giter8 template

Generate a http4s project wired with Grafter. Use the following command:

```sbt new jcranky/grafter-http4s.g8 -b 0.19```

then just enter the values you will be prompted for, `cd` to the folder
generated for your project, and `run`:

```
cd [your-project-name]
sbt run
```

The `run` command will require you to choose what you want to run: `Application`
or `Visualize`. The first one runs the _http4s server_, and the second one generates
the _application component graph_ (see `Visualize.scala` for more information).

You can find more information about Grafter itself here: https://github.com/zalando/grafter

The application generated by this template is very opinionated, but it is just a
suggestion on how to use _Grafter_. The sections below explain the application is
organized.

### Runnable components

As briefly mentioned above, there are two runnable components: `Application` and
`Visualize`. `Application` is the main entry point of the project itself: it loads
all the application components and starts the _http4s server_ - as long as everything
is ok.

`Visualize` loads the same application components but, instead of starting a server,
it uses _Grafter_ to generate the _application components graph_ using dot notation.
See the `Visualize.scala` file and _Grafter_'s documentation for more details.

### ApplicationComponents

This is the root object of the application, where the whole application graph is
built from. We use this, as mentioned in the previous section, both to start the
application itself and to generate the visualization of the application graph.

### HttpServer

Http4s entrypoint in the application, where the Rest endpoints are defined and
exposed.

### RestApi and the routes package

All rest endpoints are defined in the `routes` package. A class named `RestApi`
is used to collect all the application's endpoints together, so that they can
easily be used from the `HttpServer`.

### services package

Basically a services layer. Nothing special is happening here, but objects in this
layer depends on the `repository` layer.

### repository package

Data access layer.
